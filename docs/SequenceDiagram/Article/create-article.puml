@startuml

!theme plain

Person as "Author ou Admin" -> ArticleController : GET /dashboard/article/create

alt IsNotAuthorize
ArticleController -> Renderer : redirect('errors/401.php')
Renderer --> Person : Affichage de la page d'erreur
else IsAuthorize
ArticleController -> Renderer : render('/dashboard/article/create.php')
Renderer --> Person : affichage page de création d'un article

Person -> ArticleController : POST /dashboard/article/create
    alt IsNotAuthorize
    ArticleController -> Renderer : redirect('/errors/401.php')
    Renderer --> Person : Affichage de la page d'erreur
    else IsAuthorize
    ArticleController -> Validator : validation des données
    Validator --> ArticleController : return

        alt IsNotValid
        ArticleController -> Renderer : render('/dashboard/article', ['article' => $article])
        Renderer --> Person : Affichage formulaire création article pré-rempli avec message d'erreur
        else IsValid
        ArticleController -> Database : enregistrement
        Database --> ArticleController : return

            alt IsNotSaved
            ArticleController -> Renderer : render('/dashboard/article', ['article' => $article])
            Renderer --> Person : Affichage formulaire création article pré-rempli avec message d'erreur
            else IsSaved
            ArticleController -> Renderer : render('/article/{id}', ['article' => $article])
            Renderer --> Person : Affichage de l'article avec un message de succès
            end
        end
    end
end

@enduml